<!doctype html>
<html>
<head>
  <meta charset="utf-8">
<title>Grunt 快速使用 | 渊祭</title>
<meta name="author" content="渊祭">


<base target="_blank"/>
<link rel="shortcut icon" href="/public/upload/gavatar/favicon.ico" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/public/css/bootstrap.css">
<link rel="stylesheet" href="/public/css/font-awesome.css">
<link rel="stylesheet" href="/public/js/prettify/prettify.css">
<link rel="stylesheet" href="/public/css/base.css">
<link href="/pages/atom.xml" rel="alternate" title="渊祭" type="application/atom+xml">
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-md-4 col-lg-4 col-sm-12 col-xs-12 aside visible-md visible-lg">
  <div class="row">
    <div class="col-md-3 col-xs-3 aside1">
      <br>
      <a class="pjaxlink" href="/"><img src="/public/upload/gavatar/gavatar.png" class="img-circle avatar"></a>
      <br><br>
      <ul class="nav nav-pills nav-stacked">
        
          <li><a href="#随笔" data-toggle="tab">随笔</a></li>
        
          <li><a href="#展馆" data-toggle="tab">展馆</a></li>
        
          <li><a href="#工具" data-toggle="tab">工具</a></li>
        
        <li><a href="#tags" data-toggle="tab">标签</a></li>
        <li><a class="pjaxlink" href="/pages/archive.html">归档</a></li>
        <li><a class="pjaxlink" href="/pages/about.html">关于</a></li>
      </ul>
      <div class="aside1_bottom">
        <table class="table table-condensed">
          <tr>
            <td><a href="/pages/atom.xml" target="_blank"><i class="fa fa-rss fa-2x"></i></a></td>
            <td><a href="mailto:kellywang.ok@gmail.com"><i class="fa fa-envelope-o fa-2x"></i></a></td>
          </tr>
        </table>
      </div>
    </div>
    <div class="col-md-9 col-xs-9 aside2">
      <div class="row">
        <div class="tab-content">
           
            <div class="tab-pane" id="随笔">
              <div class="list-group">
                <h2 class="center">随笔</h2>
                
                  <a href="/2014/07/09/not-easy-but-carry-on.html" class="list-group-item pjaxlink">生活不易，但须坚持</a>
                
                  <a href="/2014/07/01/we-all-feel-lonely.html" class="list-group-item pjaxlink">我们都孤独</a>
                
                  <a href="/2014/06/17/why-am-i-single.html" class="list-group-item pjaxlink">讲讲我为什么单身</a>
                
                  <a href="/2014/05/23/note-after-watching-a-mock-interview.html" class="list-group-item pjaxlink">模拟面试观后小记</a>
                
                  <a href="/2014/02/26/tell-others-if-u-do-good.html" class="list-group-item pjaxlink">做好事可以说</a>
                
                  <a href="/2014/02/06/to-my-best-time.html" class="list-group-item pjaxlink">至我最美好的时光</a>
                
                  <a href="/2014/02/06/my-deskmates.html" class="list-group-item pjaxlink">我的同桌们</a>
                
                  <a href="/2013/08/17/star-struk-times.html" class="list-group-item pjaxlink">追星的岁月</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="展馆">
              <div class="list-group">
                <h2 class="center">展馆</h2>
                
                  <a href="/2014/07/12/starry-starry-night.html" class="list-group-item pjaxlink">starry starry night</a>
                
                  <a href="/2014/07/12/red.html" class="list-group-item pjaxlink">人物设计——伪赤练</a>
                
                  <a href="/2014/07/12/maya.html" class="list-group-item pjaxlink">maya场景建模——温馨的小镇</a>
                
                  <a href="/2014/07/12/luke.html" class="list-group-item pjaxlink">Luke</a>
                
                  <a href="/2014/07/12/girl.html" class="list-group-item pjaxlink">女孩</a>
                
              </div>
            </div>
           
            <div class="tab-pane" id="工具">
              <div class="list-group">
                <h2 class="center">工具</h2>
                
                  <a href="/2015/03/06/grunt-quick-start.html" class="list-group-item pjaxlink">Grunt 快速使用</a>
                
              </div>
            </div>
          
          <div class="tab-pane" id="tags">
            <div class="panel-group" id="accordion">
              <h2 class="center">标签</h2>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#life">life</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="life" class="panel-collapse collapse">
                    
                      <a  href='/2014/07/09/not-easy-but-carry-on.html' class="list-group-item pjaxlink">
                        生活不易，但须坚持
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#画">画</a>
                      <span class="badge pull-right">3</span>
                    </h4>
                  </div>
                  <div id="画" class="panel-collapse collapse">
                    
                      <a  href='/2014/07/12/red.html' class="list-group-item pjaxlink">
                        人物设计——伪赤练
                      </a>
                    
                      <a  href='/2014/07/12/luke.html' class="list-group-item pjaxlink">
                        Luke
                      </a>
                    
                      <a  href='/2014/07/12/girl.html' class="list-group-item pjaxlink">
                        女孩
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#maya">maya</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="maya" class="panel-collapse collapse">
                    
                      <a  href='/2014/07/12/maya.html' class="list-group-item pjaxlink">
                        maya场景建模——温馨的小镇
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#ps">ps</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="ps" class="panel-collapse collapse">
                    
                      <a  href='/2014/07/12/starry-starry-night.html' class="list-group-item pjaxlink">
                        starry starry night
                      </a>
                    
                  </div>
                </div>
               
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-toggle="collapse" data-parent="#accordion" href="#tool">tool</a>
                      <span class="badge pull-right">1</span>
                    </h4>
                  </div>
                  <div id="tool" class="panel-collapse collapse">
                    
                      <a  href='/2015/03/06/grunt-quick-start.html' class="list-group-item pjaxlink">
                        Grunt 快速使用
                      </a>
                    
                  </div>
                </div>
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
      <div class="col-md-8 col-lg-8 col-sm-12 col-xs-12 aside3">
        <div id="container">
          <div id="pjax">
            <div class="row">
  <div class="col-md-12 aside3-title">
    <br>
    <h2 id="#identifier">Grunt 快速使用</h2>
    2015年03月06日
  </div>
  <div class="col-md-12 aside3-content">
    <hr>
    <div id="content">
      <h1>Grunt 的使用</h1>

<p><strong> 其实只是把别人的整理了一遍 -- </strong></p>

<h3>安装 Grunt</h3>

<p>通过 yoeman 安装</p>

<pre><code class="bash">sudo npm install -g yo
</code></pre>

<pre><code class="bash">sudo npm install -g grunt-cli
</code></pre>

<h3>新建项目目录、文件</h3>

<h3>生成 package.json 文件</h3>

<ul>
<li>进入项目文件夹，<code>npm init</code></li>
</ul>


<h3>安装 Grunt 和需要的插件</h3>

<ul>
<li><code>npm install grunt --save-dev</code>

<ul>
<li>表示通过 npm 安装了 grunt 到当前项目，同时加上了 <code>—save-dev</code> 参数，表示会把刚安装的东西添加到 package.json 文件中。</li>
</ul>
</li>
<li>需要安装的插件：

<ul>
<li>合并文件：grunt-contrib-concat</li>
<li>语法检查：grunt-contrib-jshint(jshint 在 contact 之后，免得两个文件分开是对的，连接起来又出错了)</li>
<li>Scss 编译：grunt-contrib-sass</li>
<li>压缩文件：grunt-contrib-uglify</li>
<li>监听文件变动：grunt-contrib-watch</li>
<li>建立本地服务器：grunt-contrib-connect</li>
</ul>
</li>
<li>安装插件</li>
</ul>


<pre><code class="bash">npm install --save-dev grunt-contrib-concat grunt-contrib-jshint grunt-contrib-sass grunt-contrib-uglify grunt-contrib-watch grunt-contrib-connect
</code></pre>

<h3>配置 Gruntfile.js 的语法</h3>

<ul>
<li>所有代码要包裹在
<code>
module.exports = function(grunt) {
  ...
};
</code>
里面</li>
<li>这里与 Grunt 有关的主要有三块代码：任务配置代码、插件加载代码、任务注册代码。</li>
<li><p>任务配置代码</p>

<ul>
<li>调用插件配置一下要执行的任务和实现的功能</li>
</ul>


<pre><code class="``">  grunt.initConfig({
      pkg: grunt.file.readJSON('package.json'),//读取 package.json 文件
      uglify: {//配置 uglify 插件的任务
          options: {//配置全局 options
              banner: '/*! &lt;%= pkg.name %&gt; &lt;%= grunt.template.today("yyyy-mm-dd") %&gt; */\n'
          },
          build: {//建立 build 任务
              src: 'src/&lt;%= pkg.name %&gt;.js',
              dest: 'build/&lt;%= pkg.name %&gt;.min.js'
          }
      }
  });
</code></pre>

<ul>
<li>是对象的格式</li>
<li>怎么写 options 里的参数和 build 里的参数内容，要查看每个插件的用法，根据用法编写任务，看<a href="https://www.npmjs.com/">官方文档</a>。</li>
</ul>
</li>
<li><p>插件加载代码</p>

<ul>
<li>把需要用到的插件加载进来</li>
<li><code>grunt.loadNpmTasks('grunt-contrib-uglify');</code></li>
</ul>
</li>
<li>任务注册代码

<ul>
<li>注册一个 task，里面包含刚在前面编写的任务配置代码</li>
<li><code>grunt.registerTask('default', ['uglify']);</code>

<ul>
<li>在 default 上面注册一个 Uglify 任务，default 是别名，它是默认的 task，当你在项目目录执行 grunt 时，它会执行注册到 default 上的任务。也就是说，执行 grunt 命令时，uglify 的所有代码将会执行。</li>
</ul>
</li>
<li><code>grunt.registerTask('command', ['task:subtask']);</code>

<ul>
<li>要输入 grunt command 命令来执行任务，这条任务只执行 task 里的 subtask，比如上面 uglify 里有一个 build 子任务</li>
<li>command 不能命名成 task，不能同名</li>
</ul>
</li>
</ul>
</li>
</ul>


<h3>项目文件传输与协作</h3>

<ul>
<li>package.json 记录了项目中依赖的 grunt 插件，所以不用上传插件，只需要上传这个文件即可。下载下来之后，在这个项目文件夹下面，输入命令 npm install，NPM 会自动读取 package.json 文件，将 grunt 和有关插件下载下来。</li>
<li>用 .gitignore 过滤掉这个文件夹，禁止 git 追踪。</li>
</ul>


<h3>参考</h3>

<ul>
<li><a href="http://yujiangshui.com/grunt-basic-tutorial/">Grunt 新手一日学会</a></li>
</ul>


    </div>
    <hr>
    <div id="disqus_thread">
  <button type="button" name="kreja" class="btn btn-default show-commend">显示评论</button>
</div>

  </div>
  <!-- 目录 -->
  <div id="content_table" style="position:fixed;right:20px;top:120px;display:none;">
    <div class="panel panel-success">
      <div class="panel-body" id="nav"></div>
    </div>
  </div>
</div>


          </div>
        </div>
      </div>
    </div>
  </div>
  <div style="position:fixed;right:20px;top:10px;">
  <button id="nav_btn" class="btn btn-lg" style="height:45px;width:45px;"><i class="fa fa-angle-left"></i></button>
</div>
<div style="position:fixed;right:20px;top:60px;">
  <button id="content_btn" class="btn btn-lg" style="height:45px;width:45px;"><i class="fa fa-angle-down"></i></button>
</div>
<script type="text/javascript" src="/public/js/jquery.js"></script>
<script type="text/javascript" src="/public/js/bootstrap.js"></script>
<script src="/public/js/jquery.pjax.js"></script>
<script src="/public/js/prettify/prettify.js"></script>
<script>
    $('a[href="#tags"]').tab('show');
</script>
<script src="/public/js/base.js"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-52933845-1', 'kreja.github.io');
  ga('send', 'pageview');
</script>
</body>
</html>